// ==============================
// Default settings
//  
//  
// 
// ==============================

sv_cheats 1
sm_nav_edit 1
sm_nav_show_area_info 1


// ==============================
// Nav Analyze / Edit mode
// Press KP_ENTER to kick bots, 
// set quantity to zero and 
// run sm_nav_analyze
// ==============================

bind "KP_ENTER" "sm_navbot_kick all ;sm_navbot_quota_quantity 0; sm_nav_analyze"


// ==============================
// New Map Nav Setup
// Press F10 to Seed Walkable Spots  
// Press F11 to Generate Incremental Nav Mesh
// 
// ==============================

bind "F10" "sm_nav_seed_walkable_spots; sm_csay NavMesh: Seed Walkable Spots;"
bind "F11" "sm_nav_generate_incremental; sm_csay NavMesh: Generate Incremental;"


// ==============================
// Mark Walkable
// Press F9 to enable  
// Left-click  = Mark Walkable 
// Right-click = Mark Walkable 
// ==============================

bind "F9" "bind mouse2 sm_nav_mark_walkable; bind mouse1 sm_nav_mark_walkable; sm_csay NavMesh: Mark Walkable;"


// ==============================
// Show Spawn Points 
// Press Insert to view Spawn Points
// 
// 
// ==============================

BindToggle "INS" "sv_cheats 1; map_showspawnpoints; sm_csay Spawn points shown for 30 seconds" 


// ==============================
// Connection Edit Toggle
// Press F1 to cycle connection edit modes
// Left-click  = Connect / Disconnect nav areas
// Right-click = Mark nav area
// ==============================

bind "F1" "toggle_edit_connection_type"

alias toggle_edit_connection_type "edit_connection_type0"
alias edit_connection_type0  "bind mouse2 sm_nav_mark; bind mouse1 sm_nav_connect;    sm_csay Connection: Connect;    alias toggle_edit_connection_type edit_connection_type1"
alias edit_connection_type1  "bind mouse2 sm_nav_mark; bind mouse1 sm_nav_disconnect; sm_csay Connection: Disconnect; alias toggle_edit_connection_type edit_connection_type0"



// ==============================
// Area Edit Toggle
// Press F2 to cycle area editing types
// Left-click  = Action (create/delete/split/splice)
// Right-click = Mark or start area
// ==============================

bind "F2" "toggle_area_edit_type"

alias toggle_area_edit_type "edit_area_type0"
alias edit_area_type0  "bind mouse2 sm_nav_begin_area; bind mouse1 sm_nav_end_area;    sm_csay Area: Create; alias toggle_area_edit_type edit_area_type1"
alias edit_area_type1  "bind mouse2 sm_nav_mark;       bind mouse1 sm_nav_delete;      sm_csay Area: Delete; alias toggle_area_edit_type edit_area_type2"
alias edit_area_type2  "bind mouse2 sm_nav_mark;       bind mouse1 sm_nav_splice;      sm_csay Area: Splice; alias toggle_area_edit_type edit_area_type3"
alias edit_area_type3  "bind mouse2 sm_nav_mark;       bind mouse1 sm_nav_split;       sm_csay Area: Split;  alias toggle_area_edit_type edit_area_type4"
alias edit_area_type4  "bind mouse2 sm_nav_mark;       bind mouse1 sm_nav_merge;       sm_csay Area: Merge;  alias toggle_area_edit_type edit_area_type0"



// ==============================
// Area Attribute Toggle 
// Press F3 to cycle attribute types
// Left-click  = Apply attribute
// Right-click = Mark nav area
// ==============================

bind "F3" "toggle_edit_area_attribute_type"

// ---------- Attribute Set Aliases ----------

alias set_noallies               "sm_dod_nav_set_attribute noallies"
alias set_noaxis                 "sm_dod_nav_set_attribute noaxis"
alias set_blocked_until_bombed   "sm_dod_nav_set_attribute blocked_until_bombed"
alias set_blocked_without_bombs  "sm_dod_nav_set_attribute blocked_without_bombs"
alias set_plant_bomb             "sm_dod_nav_set_attribute plant_bomb"
alias set_requires_prone         "sm_dod_nav_set_attribute requires_prone"


alias toggle_edit_area_attribute_type "edit_area_attribute_type0"
alias edit_area_attribute_type0  "bind mouse2 sm_nav_mark; bind mouse1 sm_nav_transient;               sm_csay Area Attribute: Transient;            alias toggle_edit_area_attribute_type edit_area_attribute_type1"
alias edit_area_attribute_type1  "bind mouse2 sm_nav_mark; bind mouse1 sm_nav_avoid;                   sm_csay Area Attribute: Avoid;                alias toggle_edit_area_attribute_type edit_area_attribute_type2"
alias edit_area_attribute_type2  "bind mouse2 sm_nav_mark; bind mouse1 set_noallies;                   sm_csay Area Attribute: No Allies;            alias toggle_edit_area_attribute_type edit_area_attribute_type3"
alias edit_area_attribute_type3  "bind mouse2 sm_nav_mark; bind mouse1 set_noaxis;                     sm_csay Area Attribute: No Axis;              alias toggle_edit_area_attribute_type edit_area_attribute_type4"
alias edit_area_attribute_type4  "bind mouse2 sm_nav_mark; bind mouse1 set_blocked_until_bombed;       sm_csay Area Attribute: Blocked until bombed; alias toggle_edit_area_attribute_type edit_area_attribute_type5"
alias edit_area_attribute_type5  "bind mouse2 sm_nav_mark; bind mouse1 set_blocked_without_bombs;      sm_csay Area Attribute: Blocked without bombs;alias toggle_edit_area_attribute_type edit_area_attribute_type6"
alias edit_area_attribute_type6  "bind mouse2 sm_nav_mark; bind mouse1 set_plant_bomb;                 sm_csay Area Attribute: Plant bomb;           alias toggle_edit_area_attribute_type edit_area_attribute_type7"
alias edit_area_attribute_type7  "bind mouse2 sm_nav_mark; bind mouse1 set_requires_prone;             sm_csay Area Attribute: Requires prone;       alias toggle_edit_area_attribute_type edit_area_attribute_type8"
alias edit_area_attribute_type8  "bind mouse2 sm_nav_mark; bind mouse1 sm_dod_nav_wipe_attributes;     sm_csay Area Attribute: Remove all;           alias toggle_edit_area_attribute_type edit_area_attribute_type0"



// ==============================
// Ladder Edit Toggle 
// Press F4 to cycle ladder editing types
// Left-click  = Ladder tool action
// Right-click = Ladder tool action
// ==============================

bind "F4" "toggle_ladder_edit_type"

alias toggle_ladder_edit_type "edit_ladder_type0"
alias edit_ladder_type0  "bind mouse2 sm_nav_build_ladder;  bind mouse1 sm_nav_build_ladder;    sm_csay Ladder: Auto Create;    alias toggle_ladder_edit_type edit_ladder_type1"
alias edit_ladder_type1  "bind mouse2 sm_nav_begin_area;    bind mouse1 sm_nav_end_area;        sm_csay Ladder: Manual Create;  alias toggle_ladder_edit_type edit_ladder_type2"
alias edit_ladder_type2  "bind mouse2 sm_nav_ladder_flip;   bind mouse1 sm_nav_ladder_flip;     sm_csay Ladder: Flip;           alias toggle_ladder_edit_type edit_ladder_type0"


// ==============================
// Build Path Toggle 
// Press F5 to test path finding
// Left-click  = Set destination
// Right-click = Set current location
// ==============================

bind "F5" "toggle_build_path_type"

alias path_for_all          "sm_navbot_tool_build_path -preset dods"
alias path_for_my_team      "sm_navbot_tool_build_path -preset dods -team my"
alias path_for_allied       "sm_navbot_tool_build_path -preset dods -team 1"
alias path_for_axis         "sm_navbot_tool_build_path -preset dods -team 2"


alias toggle_build_path_type "build_path_type0"
alias build_path_type0  "bind mouse2 sm_nav_mark;   bind mouse1 path_for_all;       sm_csay Path: Test For All;     alias toggle_build_path_type build_path_type1"
alias build_path_type1  "bind mouse2 sm_nav_mark;   bind mouse1 path_for_my_team;   sm_csay Path: Test For My Team; alias toggle_build_path_type build_path_type2"
alias build_path_type2  "bind mouse2 sm_nav_mark;   bind mouse1 path_for_allied;    sm_csay Path: Test For Allied;  alias toggle_build_path_type build_path_type3"
alias build_path_type3  "bind mouse2 sm_nav_mark;   bind mouse1 path_for_axis;      sm_csay Path: Test For Axis;    alias toggle_build_path_type build_path_type0"




// ==============================
// No-Clip Toggle 
// Press PGUP to toggle noclip on/off
// 
// 
// ==============================

bind "PGUP" "nocliptoggle"

alias nocliptoggle  "nocliptoggle1"
alias nocliptoggle1 "sv_cheats 1; noclip; sm_csay \"noclip ON\";  alias nocliptoggle nocliptoggle0"
alias nocliptoggle0 "noclip;       sm_csay \"noclip OFF\"; alias nocliptoggle nocliptoggle1"




// ---------- Gravity Toggle Logic ----------

// Press PGDN to toggle between:
// - Low gravity (200): Jump ~3x height
// - Normal gravity (800): Default value
// Chat will notify you of the current state

alias gravitytoggle     "gravitylow"
alias gravitylow        "sv_gravity 200; sm_csay Low Gravity ON;  			alias gravitytoggle gravitynormal"
alias gravitynormal     "sv_gravity 800; sm_csay Gravity Reset to Normal; 	alias gravitytoggle gravitylow"

bind "PGDN" "gravitytoggle"




// ---------- Friendly Fire Toggle Logic ----------

// Press HOME to toggle Friendly Fire:
// - Useful for clearing bots blocking your path
// - Chat will notify you of the current state

alias fftoggle       "ffon"
alias ffon           "mp_friendlyfire 1; sm_csay \"Friendly Fire ON\";  alias fftoggle ffoff"
alias ffoff          "mp_friendlyfire 0; sm_csay \"Friendly Fire OFF\"; alias fftoggle ffon"

bind "HOME" "fftoggle"







// ==============================
// Template
// ==============================


// ==============================
// <Group Name> Toggle 
// Bind <Toggle Key> to cycle through modes
// Left-click  = <Primary Action Description>
// Right-click = <Secondary Action Description>
// ==============================

bind "<Toggle Key>" "toggle_<group_name>_edit_type"



// ---------- <Group Name> Edit Type Toggles ----------

alias toggle_<group_name>_edit_type "edit_<group_name>_type0"

alias edit_<group_name>_type0  "bind mouse2 <right_click_command0>; bind mouse1 <left_click_command0>; say \"<Group Name>: <Mode 0 Description>\"; alias toggle_<group_name>_edit_type edit_<group_name>_type1"
alias edit_<group_name>_type1  "bind mouse2 <right_click_command1>; bind mouse1 <left_click_command1>; say \"<Group Name>: <Mode 1 Description>\"; alias toggle_<group_name>_edit_type edit_<group_name>_type2"
alias edit_<group_name>_type2  "bind mouse2 <right_click_command2>; bind mouse1 <left_click_command2>; say \"<Group Name>: <Mode 2 Description>\"; alias toggle_<group_name>_edit_type edit_<group_name>_type0"



// ==============================
// Confirm Config Loaded
//  
//  
// 
// ==============================

sm_csay NavBot Helper Config Loaded